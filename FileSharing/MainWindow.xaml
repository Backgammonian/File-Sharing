<Window x:Class="FileSharing.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:FileSharing"
        xmlns:viewModels="clr-namespace:FileSharing.ViewModels"
        mc:Ignorable="d"
        Title="FileSharing" 
        Height="450" 
        MinHeight="400"
        Width="800"
        MinWidth="600">
    <Window.Resources>
        <ResourceDictionary Source="/Styles/StylesDictionary.xaml"/>
    </Window.Resources>
    <Window.DataContext>
        <viewModels:MainViewModel/>
    </Window.DataContext>
    <Grid>
        <TabControl
            Style="{StaticResource tabControlStyle}">
            <TabItem>
                <TabItem.Header>
                    <StackPanel
                        Style="{StaticResource stackPanelStyle}">
                        <Rectangle
                            Style="{StaticResource rectangleStyle}"/>
                        <TextBlock
                            Style="{StaticResource titleStyle}"
                            Text="Server-side">
                        </TextBlock>
                    </StackPanel>
                </TabItem.Header>
                <TabItem.Content>
                    <Grid
                        Style="{StaticResource gridStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="40"/>
                        </Grid.RowDefinitions>
                        <TabControl
                            Style="{StaticResource tabControlStyle}"
                            Grid.Row="0">
                            <TabItem>
                                <TabItem.Header>
                                    <StackPanel
                                        Style="{StaticResource stackPanelStyle}">
                                        <Ellipse
                                            Style="{StaticResource ellipseStyle}"/>
                                        <TextBlock
                                            Style="{StaticResource baseTextBlockStyle}"
                                            Text="Shared files">
                                        </TextBlock>
                                    </StackPanel>
                                </TabItem.Header>
                                <TabItem.Content>
                                    Shared files List
                                </TabItem.Content>
                            </TabItem>
                            <TabItem>
                                <TabItem.Header>
                                    <StackPanel
                                        Style="{StaticResource stackPanelStyle}">
                                        <Ellipse
                                            Style="{StaticResource ellipseStyle}"/>
                                        <TextBlock
                                            Style="{StaticResource baseTextBlockStyle}"
                                            Text="Connected clients">
                                        </TextBlock>
                                    </StackPanel>
                                </TabItem.Header>
                                <TabItem.Content>
                                    Connected clients list
                                </TabItem.Content>
                            </TabItem>
                        </TabControl>
                        <WrapPanel
                            Grid.Row="1">
                            <Button
                                Style="{StaticResource baseButtonStyle}">
                                <TextBlock
                                    Style="{StaticResource baseTextBlockStyle}"
                                    Text="Add file to share"/>
                            </Button>
                        </WrapPanel>
                    </Grid>
                </TabItem.Content>
            </TabItem>
            <TabItem>
                <TabItem.Header>
                    <StackPanel
                        Style="{StaticResource stackPanelStyle}">
                        <Rectangle
                            Style="{StaticResource rectangleStyle}"/>
                        <TextBlock
                            Style="{StaticResource titleStyle}"
                            Text="Client-side">
                        </TextBlock>
                    </StackPanel>
                </TabItem.Header>
                <TabItem.Content>
                    <Grid
                        Style="{StaticResource gridStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="40"/>
                        </Grid.RowDefinitions>
                        <TabControl
                            Style="{StaticResource tabControlStyle}"
                            Grid.Row="0">
                            <TabItem>
                                <TabItem.Header>
                                    <StackPanel
                                        Style="{StaticResource stackPanelStyle}">
                                        <Ellipse
                                            Style="{StaticResource ellipseStyle}"/>
                                        <TextBlock
                                            Style="{StaticResource baseTextBlockStyle}"
                                            Text="Downloads">
                                        </TextBlock>
                                    </StackPanel>
                                </TabItem.Header>
                                <TabItem.Content>
                                    Downloads List
                                </TabItem.Content>
                            </TabItem>
                            <TabItem>
                                <TabItem.Header>
                                    <StackPanel
                                        Style="{StaticResource stackPanelStyle}">
                                        <Ellipse
                                            Style="{StaticResource ellipseStyle}"/>
                                        <TextBlock
                                            Style="{StaticResource baseTextBlockStyle}"
                                            Text="Servers">
                                        </TextBlock>
                                    </StackPanel>
                                </TabItem.Header>
                                <TabItem.Content>
                                    <ListBox
                                        ItemsSource="{Binding Servers}"
                                        SelectedItem="{Binding SelectedServer}" 
                                        ScrollViewer.VerticalScrollBarVisibility="Auto">
                                        <ListBox.ItemTemplate>
                                            <DataTemplate>
                                                <StackPanel 
                                                    Style="{StaticResource stackPanelInListBoxStyle}">
                                                    <TextBlock 
                                                        Style="{StaticResource titleStyle}" 
                                                        Text="{Binding ServerAddress, Converter={StaticResource ipEndPointConverter}}" />
                                                    <TextBlock 
                                                        Style="{StaticResource baseTextBlockStyle}" 
                                                        Text="{Binding ConnectionState, Converter={StaticResource connectionStatusConverter}}" />
                                                    <TextBlock Style="{StaticResource serverEncryptionStatus}" />
                                                    <Button 
                                                        Style="{StaticResource popUpButtonStyle}"
                                                        Command="{Binding DataContext.DisconnectFromServerCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}}"
                                                        CommandParameter="{Binding}">   
                                                        <TextBlock
                                                            Style="{StaticResource baseTextBlockStyle}"
                                                            Text="Disconnect"> 
                                                        </TextBlock>
                                                    </Button>
                                                </StackPanel>
                                            </DataTemplate>
                                        </ListBox.ItemTemplate>
                                    </ListBox>
                                </TabItem.Content>
                            </TabItem>
                        </TabControl>
                        <WrapPanel
                            Grid.Row="1">
                            <Button
                                Style="{StaticResource baseButtonStyle}">
                                <TextBlock
                                    Style="{StaticResource baseTextBlockStyle}"
                                    Text="Open downloads folder"/>
                            </Button>
                            <Button
                                Style="{StaticResource baseButtonStyle}">
                                <TextBlock
                                    Style="{StaticResource baseTextBlockStyle}"
                                    Text="Connect to server"/>
                            </Button>
                        </WrapPanel>
                    </Grid>
                </TabItem.Content>
            </TabItem>
        </TabControl>
    </Grid>
</Window>
